# Minimal Hyprland config for running gtkgreet under greetd.
# Start gtkgreet and exit Hyprland when it terminates.

# Optional: speed up GTK app startup on some systems.
env = GTK_USE_PORTAL,0
env = GDK_DEBUG,no-portals

# Force greeter UI downscaling (2x smaller).
env = GDK_SCALE,1
env = GDK_DPI_SCALE,1

# Avoid inheriting HiDPI scaling.
monitor = Virtual-1, 1920x1440@60.00Hz, 0x0, 1
monitor = ,preferred,auto,1

# Scaling fixed for non-wayland apps
xwayland {
    force_zero_scaling = true
}

# Avoid any default wallpaper/logo
misc {
    force_default_wallpaper = 0
    disable_hyprland_logo = true
}

env = PATH,$PATH:/etc/greetd/bin

# Start gtkgreet, then quit Hyprland after gtkgreet exits.
# -l: layer-shell mode (best positioning on wlroots compositors)
# --style: apply our Archx theme CSS
exec-once = sh -lc 'gtkgreet -l --style /etc/greetd/gtkgreet.css; hyprctl dispatch exit'
