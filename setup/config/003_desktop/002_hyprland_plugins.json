{
    "version": 1,
    "description": "Hyprland plugins",
    "commands": [
        { "kind": "package", "name": "cpio" },
        { "kind": "package", "name": "cmake" },
        { "kind": "package", "name": "git" },
        { "kind": "package", "name": "meson" },
        { "kind": "package", "name": "gcc" },
        { "kind": "shell", "stdout": true, "stderr": true, "script": [
            "if hyprpm list | awk 'prev ~ /hyprexpo/ && $0 ~ /enabled:[[:space:]]*true/ { exit 0 } { prev=$0 } END { exit 1 }'; then",
            "  echo 'hyprexpo already installed and enabled; skipping.'",
            "  exit 0",
            "fi",
            "hyprpm update",
            "echo y | hyprpm add https://github.com/hyprwm/hyprland-plugins",
            "hyprpm enable hyprexpo"
        ] }
    ]
}